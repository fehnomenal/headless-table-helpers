import{a as b,b as c} from"../index-40510b22ee19619f.js";import{d} from"../index-c0b43c1dd129ca28.js";var C=10,g=1000,P=[10,25,50,100];function l(t,a){if(!a?.sortable||a.sortable.length===0)return;const{sortable:e}=a,r=({field:n})=>e.includes(n),s=Array.isArray(t)?t:t?[t]:[],o=[];for(let n of s){const m=d(n,r);if(m)o.push(m)}if(o.length===0)return;return Array.isArray(t)?o:o[0]??null}var u=(t)=>t instanceof URLSearchParams?t:t instanceof URL?t.searchParams:t.url.searchParams,i=(t,a,e)=>{const r=e?.rowsPerPageOptions??P;return{rowsPerPage:Math.min(f(t.get(a.rowsPerPage),e?.defaultRowsPerPage??r[0]??C),g),rowsPerPageOptions:r,sortable:e?.sortable??[]}},f=(t,a)=>{if(t){const e=parseInt(t,10);if(!isNaN(e))return e}return a};function T(t,a){const e=u(t),r={...c,...a.paramNames},s=i(e,r,a),o=e.get(r.cursorId)??void 0,n=l(e.get(r.sort),a)??{field:a.idColumn,dir:"asc"},m=e.get(r.cursorSort)??void 0,p=e.get(r.direction);return{type:"cursor",...s,paramNames:r,idColumn:a.idColumn,idCursor:o,sort:n,sortCursor:m,direction:p==="before"?p:"after"}}function D(t,a){const e=u(t),r={...b,...a?.paramNames},s=i(e,r,a),o=Math.max(f(e.get(r.currentOffset),0),0),n=l(e.getAll(r.sort),a)??a?.defaultSort??[];return{type:"offset",...s,paramNames:r,currentOffset:o,sort:n}}export{D as getDataTableOffsetPaginationMeta,T as getDataTableCursorPaginationMeta};
